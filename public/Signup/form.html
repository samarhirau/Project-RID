
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register Here</title>
    <link rel="stylesheet" href="../css/form.css">
    <link rel="stylesheet" href="../css/responsive.css">
</head>
<body onload="loadPage">
    <div class="headings">
        <h1>Registration</h1>
        <h3>Research Innovation & Discovery</h3>
       </div>
    <div class="container" id="container1" style="display: block;">
        <!-- <h1>Registration</h1>
        <h3>Research Innovation & Discovery</h3> -->
        <div class="img">
           
            <div class="container-process">
                <div class="line-1">
                    <div class="cicle-1 active-circle"><p>1</p></div>
                    <div class="cicle-2"><p>2</p></div>
                    <div class="cicle-3"><p>3</p></div>
                </div>
            </div>
          
    </div>
        <form  action="/user/register" method="post" class="form">
        <div id="form1">
            <div class="form-group">
                <label>First Name <span style="color: red; font-weight: bold;">*</span></label>
         <input type="text" id="firstname" name="username" required>
           
            </div>
            <div class="form-group">
                <label>Last Name <span style="color: red; font-weight: bold;">*</span></label>
                <input type="text" id="lastname" name="lastname" required>
            </div>
            <div class="form-group">
                <label>Email Address <span style="color: red; font-weight: bold;">*</span></label>
                <input type="email" id="email" name="email" placeholder="youremail@gmail.com" required>
            </div>
            <div class="form-group">
                <label>Create Password <span style="color: red; font-weight: bold;">*</span></label>
                <input type="password" id="password" name="password" placeholder="*********" required>
            </div>
        </div>
        <button id="nextButton">Next</button>
        <br>
        <div class="anAccount">
        <span class="login-span">Already have an account? <a>Login</a></span>
    </div>
       
    </div>
   
    <div class="container" id="container3" style="display: none;">
        <div class="img">
          
            <div class="container-process">
                <div class="line-1 line-2">
                    <div class="cicle-1 active-circle-done"><p>1</p></div>
                    <div class="cicle-2 active-circle"><p>2</p></div>
                    <div class="cicle-3"><p>3</p></div>
                </div>
            </div>
           
    </div>
        
        <div id="form3">
            <div class="form-group">
                <label>Gender <span style="color: red; font-weight: bold;">*</span></label>
                <select id="gender" name="gender" required>
                    <option value="">Select Gender</option>
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                    <option value="other">Other</option>
                </select>
            </div>
            <div class="form-group">
                <label>Mobile Number <span style="color: red; font-weight: bold;">*</span></label>
                <input type="tel" id="phone" name="phone" required>
            </div>
            <div class="form-group">
                <label>Date of Birth <span style="color: red; font-weight: bold;">*</span></label>
                <input type="date" id="dob" name="dob" required>

            </div>
            <div class="form-group">
                <label for="role" >Role<span style="color: red; font-weight: bold;">*</span></label>
                <input type="text" id="role" name="role" placeholder="Search for a role" autocomplete="off" list="roleList" required>
                <datalist id="roleList">
                <option value="organisation">organisation</option>
                <option value="student">student</option>
                <option value="teacher">teacher</option>
                <!-- <option value="admin">admin</option> -->
                   
                </datalist>
            </div>
        </div>
        <div class="buttons">
            <button id="PreviousBtn" type="button" >Previous</button>
        <button id="sumit-btn" type="submit">Submit</button>
       
    </div>
    <br>
        <div class="anAccount">
            <span class="login-span">Already have an account? <a>Login</a></span>
        </div>
        
        
    </div>
    <div class="container" id="container4" style="display: none;">
        <h1>Registration</h1>
        <h3>Research Innovation & Discovery</h3>
        <img src="../assets/images/step-4.png" alt="">
        <div id="form-last">
            <img src="../assets/images/icon-success.png" alt="">
            <h1>Congratulations, <span id="userName">User</span></h1>
            <span>Successfully Registered in RID. <a href="">Login</a></span>
        </div>

<!--
 footer

-->

       
    </div>
</form>

    <footer>
        <p>Copyright Â©2024, RID | TWF (TWKSAA WELFARE FOUNDATION). All Rights Reserved.</p>
        <div class="links">
        <span><a href="">Home</a> | <a href="">Terms & Conditions</a> | <a href="">Privacy Policy</a> | <a href="">Feedback</a></span>
    </div>
    </footer>


    
    <script>
  

        

        function loadPage() {
            const currentPage = localStorage.getItem('currentPage') || 'container1';
            document.getElementById(currentPage).style.display = 'flex';
        }
    </script>
    <script>
    const nextBtn = document.querySelector('#nextButton');
    const container3 = document.querySelector('#container3');
    nextBtn.addEventListener('click',function(){
        const container1 = document.querySelector('#container1');
        container1.style.display = 'none';
        container3.style.display = 'flex';
        localStorage.setItem('currentPage', 'container3');
    });

    const previousBtn = document.querySelector('#PreviousBtn');
    previousBtn.addEventListener('click',function(){
        const container1 = document.querySelector('#container1');
        const container3 = document.querySelector('#container3');
        container3.style.display = 'none';
        container1.style.display = 'flex';
        localStorage.setItem('currentPage', 'container1');
    });
    </script>
    <script>
        //  document.querySelector('#submitBtn').addEventListener('click', function(event) {
        //     const form = document.querySelector('#form3');
        //     if (form.checkValidity()) {
        //         // Simulate form submission
        //         // You can replace this part with actual form submission logic using fetch or XMLHttpRequest
        //         setTimeout(() => {
        //             document.getElementById('container3').style.display = 'none';
        //             document.getElementById('container4').style.display = 'flex';
        //             localStorage.setItem('currentPage', 'container4');
        //         }, 1000); // Simulating a delay for form submission
        //     } else {
        //         event.preventDefault();
        //         form.reportValidity(); // Display validation messages
        //     }
        // });
    </script>
    <script>
 document.querySelector('#submitBtn').addEventListener('click', async function(event) {
            event.preventDefault(); // Prevent default form submission

            const formData = new FormData(document.querySelector('#container4'));
            try {
                const response = await fetch('/user/register', {
                    method: 'POST',
                    body: formData
                });

                const result = await response.json();
                if (result.success) {
                    document.getElementById('container3').style.display = 'none';
                    document.getElementById('container4').style.display = 'flex';
                    // localStorage.setItem('currentPage', 'container4');
                } else {
                    // Handle failure (e.g., show an error message)
                    alert(result.message); 
                }
            } catch (error) {
                console.error('Error:', error);
            }
        });
    </script>
    
</body>
</html>
